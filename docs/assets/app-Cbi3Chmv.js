(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const j="modulepreload",O=function(e,t){return new URL(e,t).href},R={},v=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let d=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");r=d(n.map(l=>{if(l=O(l,o),l in R)return;R[l]=!0;const f=l.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(o)for(let h=s.length-1;h>=0;h--){const b=s[h];if(b.href===l&&(!f||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":j,f||(p.as="script"),p.crossOrigin="",p.href=l,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((h,b)=>{p.addEventListener("load",h),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};(()=>{const e=document.querySelector("[data-nav-toggle]"),t=document.getElementById("menu-principal"),n=window.matchMedia("(min-width:768px)");if(!t)return;const o=()=>{n.matches?(t.classList.remove("is-open"),t.hidden=!1,document.body.style.removeProperty("overflow"),document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(a=>{a.classList.remove("is-open");const c=a.querySelector(".c-nav__submenu");c&&c.removeAttribute("hidden")}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link[aria-expanded]").forEach(a=>a.setAttribute("aria-expanded","false"))):(t.hidden=!t.classList.contains("is-open"),document.querySelectorAll(".c-nav__item--has-dropdown:not(.is-open) .c-nav__submenu").forEach(a=>a.setAttribute("hidden","")))},r=()=>{t.classList.add("is-open"),t.hidden=!1,e&&e.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"},i=()=>{t.classList.remove("is-open"),t.hidden=!0,e&&e.setAttribute("aria-expanded","false"),document.body.style.removeProperty("overflow"),document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(a=>{a.classList.remove("is-open");const c=a.querySelector(".c-nav__submenu");c&&c.setAttribute("hidden","")}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link[aria-expanded]").forEach(a=>a.setAttribute("aria-expanded","false"))};e&&e.addEventListener("click",()=>{n.matches||(t.classList.contains("is-open")?i():r())}),document.addEventListener("click",a=>{if(n.matches||!t.classList.contains("is-open"))return;a.target.closest(".c-nav")||a.target.closest("[data-nav-toggle]")||i()}),t.addEventListener("click",a=>{!n.matches&&a.target.closest("a")&&i()}),document.addEventListener("keydown",a=>{!n.matches&&a.key==="Escape"&&i()}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link").forEach(a=>{a.setAttribute("aria-expanded","false");const d=a.closest(".c-nav__item--has-dropdown")?.querySelector(".c-nav__submenu");d&&!n.matches&&d.setAttribute("hidden",""),a.addEventListener("click",l=>{if(n.matches)return;l.preventDefault();const f=a.closest(".c-nav__item--has-dropdown"),m=!f.classList.contains("is-open");document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(h=>{if(h!==f){h.classList.remove("is-open");const b=h.querySelector(".c-nav__submenu");b&&b.setAttribute("hidden","")}}),f.classList.toggle("is-open",m),a.setAttribute("aria-expanded",String(m));const p=f.querySelector(".c-nav__submenu");p&&(m?p.removeAttribute("hidden"):p.setAttribute("hidden",""))})}),n.addEventListener("change",o),o()})();const q="corvelloni-consent-state",M='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])',u=document.querySelector("[data-consent-banner]"),x=u?.querySelector("[data-consent-accept]"),E=u?.querySelector("[data-consent-reject]");let _=null;function C(e,t){try{if(e==="get")return window.localStorage.getItem(q);e==="set"&&window.localStorage.setItem(q,t)}catch(n){console.warn("Consentimento: localStorage indisponível",n)}return null}function D(){window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)}}function F(){D(),window.gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}function B(e){document.documentElement.setAttribute("data-consent",e)}function N(e){D();const t={ad_storage:"denied",analytics_storage:"granted",ad_user_data:"denied",ad_personalization:"denied"},n={ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"};window.gtag("consent","update",e==="granted"?t:n),B(e)}function k(e){if(e.key!=="Tab"||!u)return;const t=u.querySelectorAll(M);if(!t.length)return;const n=t[0],o=t[t.length-1];e.shiftKey&&document.activeElement===n?(e.preventDefault(),o.focus()):!e.shiftKey&&document.activeElement===o&&(e.preventDefault(),n.focus())}function I(e){e.key==="Escape"&&(e.preventDefault(),A())}function A(){u&&(u.classList.remove("is-open"),u.setAttribute("hidden",""),u.removeEventListener("keydown",k),document.removeEventListener("keydown",I),_ instanceof HTMLElement&&_.focus())}function T(){!u||!u.hasAttribute("hidden")||(_=document.activeElement,u.setAttribute("role","dialog"),u.setAttribute("aria-modal","true"),u.removeAttribute("hidden"),requestAnimationFrame(()=>u.classList.add("is-open")),u.addEventListener("keydown",k),document.addEventListener("keydown",I),(x||E||u).focus())}function P(e){C("set",e)}function g(e){N(e)}function H(){P("granted"),g("granted"),A()}function z(){P("denied"),g("denied"),A()}function U(){const e=document.querySelector(".c-footer__links");if(!e||e.querySelector("[data-consent-open]"))return;const t=document.createElement("li"),n=document.createElement("button");n.type="button",n.textContent="Gerenciar cookies",n.className="c-consent__manage-link",n.setAttribute("data-consent-open","true"),t.appendChild(n),e.appendChild(t)}function V(){document.addEventListener("click",e=>{const t=e.target;t instanceof HTMLElement&&t.closest("[data-consent-open]")&&(e.preventDefault(),T())})}function w(){if(F(),U(),V(),!u||!x||!E)return;const e=C("get");e==="granted"?g("granted"):e==="denied"?g("denied"):T(),x.addEventListener("click",H),E.addEventListener("click",z)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",w):w();document.addEventListener("click",e=>{const t=e.target.closest(".c-faq-inline__summary");if(!t)return;const n=t.parentElement,o=n.closest(".c-faq-inline__list");o&&o.querySelectorAll("details[open]").forEach(r=>{r!==n&&r.removeAttribute("open")})});const K={anexos:[{id:"anexo-i",titulo:"Anexo I — Comércio",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:7.3,pd:5940},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:9.5,pd:13860},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:10.7,pd:22500},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:14.3,pd:87300},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:19,pd:378e3}]},{id:"anexo-ii",titulo:"Anexo II — Indústria",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:7.8,pd:5940},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:10,pd:13860},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:11.2,pd:22500},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:14.7,pd:85500},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:30,pd:72e4}]},{id:"anexo-iii",titulo:"Anexo III — Serviços",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:6,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:11.2,pd:9360},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:13.5,pd:17640},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:16,pd:35640},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:21,pd:125640},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:33,pd:648e3}]},{id:"anexo-iv",titulo:"Anexo IV — Serviços com CPP fora do DAS",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:9,pd:8100},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:10.2,pd:12420},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:14,pd:39780},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:22,pd:183780},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:33,pd:828e3}]},{id:"anexo-v",titulo:"Anexo V — Serviços com Fator R",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:15.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:18,pd:4500},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:19.5,pd:9900},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:20.5,pd:17100},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:23,pd:62100},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:30.5,pd:54e4}]}]},G="[data-simples-tabs]",J=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),Y=e=>`${Number(e).toFixed(2).replace(".",",")}`;function W(e){const t=document.createElement("table");t.classList.add("p-simples__table");const n=document.createElement("caption");n.textContent=e.titulo,t.appendChild(n);const o=document.createElement("thead"),r=document.createElement("tr");["Faixa","Receita Bruta 12 meses (RBT12)","Alíquota nominal (%)","Parcela a deduzir (PD)"].forEach(s=>{const a=document.createElement("th");a.scope="col",a.textContent=s,r.appendChild(a)}),o.appendChild(r),t.appendChild(o);const i=document.createElement("tbody");return e.faixas.forEach(s=>{const a=document.createElement("tr"),c=document.createElement("th");c.scope="row",c.textContent=`${s.faixa}ª Faixa`,a.appendChild(c);const d=document.createElement("td");d.textContent=s.rbt12,a.appendChild(d);const l=document.createElement("td");l.textContent=`${Y(s.aliquota)}%`,a.appendChild(l);const f=document.createElement("td");f.textContent=J.format(s.pd),a.appendChild(f),i.appendChild(a)}),t.appendChild(i),t}function Q(e,t){t?.anexos&&e.querySelectorAll("[data-anexo]").forEach(n=>{const o=n.getAttribute("data-anexo"),r=t.anexos.find(i=>i.id===o);if(!r){console.warn(`Anexo não encontrado: ${o}`);return}n.innerHTML="",n.appendChild(W(r))})}function X(e){const t=Array.from(e.querySelectorAll('[role="tab"]'));if(!t.length||!e.querySelector('[role="tabpanel"]'))return;const n=(o,{focusTab:r=!0}={})=>{t.forEach(i=>{const s=i===o;i.classList.toggle("is-active",s),i.setAttribute("aria-selected",String(s)),i.tabIndex=s?0:-1;const a=i.getAttribute("aria-controls"),c=a&&e.querySelector(`#${a}`);c&&(c.toggleAttribute("hidden",!s),c.classList.toggle("is-active",s),s?c.setAttribute("tabindex","0"):c.removeAttribute("tabindex"))}),r&&o.focus()};n(t.find(o=>o.getAttribute("aria-selected")==="true")??t[0],{focusTab:!1}),t.forEach(o=>o.addEventListener("click",()=>n(o))),e.addEventListener("keydown",o=>{const r=document.activeElement;if(!r||r.getAttribute("role")!=="tab")return;const i=t.indexOf(r);let s=i;switch(o.key){case"ArrowRight":case"ArrowDown":o.preventDefault(),s=(i+1)%t.length;break;case"ArrowLeft":case"ArrowUp":o.preventDefault(),s=(i-1+t.length)%t.length;break;case"Home":o.preventDefault(),s=0;break;case"End":o.preventDefault(),s=t.length-1;break;default:return}n(t[s])})}async function L(e,t=!1){try{const n=await fetch(e);if(!n.ok)return t||console.info(`JSON externo não encontrado (${n.status}), usando dados inline`),null;const o=n.headers.get("content-type");if(o&&!o.includes("application/json"))return null;const r=await n.json();return console.log("✓ JSON carregado do servidor"),r}catch{return null}}async function Z(e){const t=e.getAttribute("data-simples-url");if(t){const o=await L(t,!0);if(o)return o}const n=await L("/assets/data/simples-tabelas.json",!0);return n||(console.log("✓ Usando dados inline (fallback)"),K)}async function S(){const e=document.querySelector(G);if(!e){console.log("Elemento com data-simples-tabs não encontrado");return}console.log("Inicializando tabs do Simples Nacional..."),X(e);const t=await Z(e);if(!t||!t.anexos){console.error("Estrutura de dados inválida"),e.querySelectorAll("[data-anexo]").forEach(n=>{n.innerHTML=`
                <div style="padding: 2rem; text-align: center; color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; border-radius: 4px;">
                    <p>⚠️ Erro ao processar dados das tabelas</p>
                </div>
            `});return}console.log(`✓ Sistema inicializado com ${t.anexos.length} anexos`),Q(e,t)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S,{once:!0}):S();function ee({offsetSelector:e=".c-header",offset:t=0}={}){const n=matchMedia("(prefers-reduced-motion: reduce)"),o=()=>n.matches?"auto":"smooth",r=()=>{if(e){const a=document.querySelector(e);if(a)return a.getBoundingClientRect().height}return t},i=a=>{const c=a.hasAttribute("tabindex"),d=a.matches("a,button,input,select,textarea,[tabindex]");!d&&!c&&a.setAttribute("tabindex","-1"),a.focus({preventScroll:!0}),!d&&!c&&a.removeAttribute("tabindex")},s=a=>{const c=decodeURIComponent(a.replace(/^#/,""));if(!c)return;const d=document.getElementById(c);if(!d)return;const l=d.getBoundingClientRect().top+pageYOffset-r();scrollTo({top:l,behavior:o()}),requestAnimationFrame(()=>i(d))};if(document.addEventListener("click",a=>{const c=a.target.closest('a[href^="#"]:not([data-skip-smooth])');if(!c)return;const d=c.getAttribute("href");if(!d||d==="#"||d==="#0")return;const l=decodeURIComponent(d.slice(1));document.getElementById(l)&&(a.preventDefault(),history.pushState(null,"",d),s(d))}),location.hash){const a=()=>s(location.hash);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a,{once:!0}):a()}}window.__smoothScrollBooted||(window.__smoothScrollBooted=!0,ee({offsetSelector:".c-header"}));const te=e=>document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e(),y=e=>"requestIdleCallback"in window?requestIdleCallback(e,{timeout:1500}):setTimeout(e,0);function $(e,t){if(typeof e?.[t]=="function")return e[t]();if(typeof e?.default=="function")return e.default();for(const n of["bootCalculators","initCltPjCalculator","initCustoCnpjCalculator"])if(typeof e?.[n]=="function")return e[n]()}te(()=>{document.querySelector("[data-help-open]")&&y(()=>v(()=>import("./help-dialog-COH4yFc1.js"),[],import.meta.url).then(n=>n.initHelpDialogs?.()).catch(n=>console.error("Falha ao carregar help-dialog.js",n)));const e=document.querySelector('[data-calc="clt-pj"]'),t=document.querySelector('[data-calc="custo-cnpj"],[data-calc="custo-pj"],[data-calc="custo-abertura"],[data-calc="custo-abertura-pj"]');e&&y(()=>v(()=>import("./clt-vs-pj-ibVnhS0T.js"),[],import.meta.url).then(n=>$(n,"initCltPjCalculator")).catch(n=>console.error("Falha ao carregar clt-vs-pj.js",n))),t&&y(()=>v(()=>import("./custos-abertura-pj-Cyveq2i5.js"),[],import.meta.url).then(n=>$(n,"initCustoCnpjCalculator")).catch(n=>console.error("Falha ao carregar custos-abertura-pj.js",n)))});
