(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();const j="modulepreload",O=function(e){return"/"+e},q={},g=function(t,a,o){let r=Promise.resolve();if(a&&a.length>0){let d=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var s=d;document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=n?.nonce||n?.getAttribute("nonce");r=d(a.map(l=>{if(l=O(l),l in q)return;q[l]=!0;const f=l.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":j,f||(p.as="script"),p.crossOrigin="",p.href=l,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((h,b)=>{p.addEventListener("load",h),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return r.then(n=>{for(const c of n||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};(()=>{const e=document.querySelector("[data-nav-toggle]"),t=document.getElementById("menu-principal"),a=window.matchMedia("(min-width:768px)");if(!t)return;const o=()=>{a.matches?(t.classList.remove("is-open"),t.hidden=!1,document.body.style.removeProperty("overflow"),document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(n=>{n.classList.remove("is-open");const c=n.querySelector(".c-nav__submenu");c&&c.removeAttribute("hidden")}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link[aria-expanded]").forEach(n=>n.setAttribute("aria-expanded","false"))):(t.hidden=!t.classList.contains("is-open"),document.querySelectorAll(".c-nav__item--has-dropdown:not(.is-open) .c-nav__submenu").forEach(n=>n.setAttribute("hidden","")))},r=()=>{t.classList.add("is-open"),t.hidden=!1,e&&e.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"},i=()=>{t.classList.remove("is-open"),t.hidden=!0,e&&e.setAttribute("aria-expanded","false"),document.body.style.removeProperty("overflow"),document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(n=>{n.classList.remove("is-open");const c=n.querySelector(".c-nav__submenu");c&&c.setAttribute("hidden","")}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link[aria-expanded]").forEach(n=>n.setAttribute("aria-expanded","false"))};e&&e.addEventListener("click",()=>{a.matches||(t.classList.contains("is-open")?i():r())}),document.addEventListener("click",n=>{if(a.matches||!t.classList.contains("is-open"))return;n.target.closest(".c-nav")||n.target.closest("[data-nav-toggle]")||i()}),t.addEventListener("click",n=>{!a.matches&&n.target.closest("a")&&i()}),document.addEventListener("keydown",n=>{!a.matches&&n.key==="Escape"&&i()}),document.querySelectorAll(".c-nav__item--has-dropdown > .c-nav__link").forEach(n=>{n.setAttribute("aria-expanded","false");const d=n.closest(".c-nav__item--has-dropdown")?.querySelector(".c-nav__submenu");d&&!a.matches&&d.setAttribute("hidden",""),n.addEventListener("click",l=>{if(a.matches)return;l.preventDefault();const f=n.closest(".c-nav__item--has-dropdown"),m=!f.classList.contains("is-open");document.querySelectorAll(".c-nav__item--has-dropdown.is-open").forEach(h=>{if(h!==f){h.classList.remove("is-open");const b=h.querySelector(".c-nav__submenu");b&&b.setAttribute("hidden","")}}),f.classList.toggle("is-open",m),n.setAttribute("aria-expanded",String(m));const p=f.querySelector(".c-nav__submenu");p&&(m?p.removeAttribute("hidden"):p.setAttribute("hidden",""))})}),a.addEventListener("change",o),o()})();const w="corvelloni-consent-state",F='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])',u=document.querySelector("[data-consent-banner]"),_=u?.querySelector("[data-consent-accept]"),x=u?.querySelector("[data-consent-reject]");let A=null;function C(e,t){try{if(e==="get")return window.localStorage.getItem(w);e==="set"&&window.localStorage.setItem(w,t)}catch(a){console.warn("Consentimento: localStorage indisponível",a)}return null}function D(){window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)}}function M(){D(),window.gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}function B(e){document.documentElement.setAttribute("data-consent",e)}function N(e){D();const t={ad_storage:"denied",analytics_storage:"granted",ad_user_data:"denied",ad_personalization:"denied"},a={ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"};window.gtag("consent","update",e==="granted"?t:a),B(e)}function k(e){if(e.key!=="Tab"||!u)return;const t=u.querySelectorAll(F);if(!t.length)return;const a=t[0],o=t[t.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),o.focus()):!e.shiftKey&&document.activeElement===o&&(e.preventDefault(),a.focus())}function I(e){e.key==="Escape"&&(e.preventDefault(),R())}function R(){u&&(u.classList.remove("is-open"),u.setAttribute("hidden",""),u.removeEventListener("keydown",k),document.removeEventListener("keydown",I),A instanceof HTMLElement&&A.focus())}function T(){!u||!u.hasAttribute("hidden")||(A=document.activeElement,u.setAttribute("role","dialog"),u.setAttribute("aria-modal","true"),u.removeAttribute("hidden"),requestAnimationFrame(()=>u.classList.add("is-open")),u.addEventListener("keydown",k),document.addEventListener("keydown",I),(_||x||u).focus())}function P(e){C("set",e)}function y(e){N(e)}function H(){P("granted"),y("granted"),R()}function U(){P("denied"),y("denied"),R()}function V(){const e=document.querySelector(".c-footer__links");if(!e||e.querySelector("[data-consent-open]"))return;const t=document.createElement("li"),a=document.createElement("button");a.type="button",a.textContent="Gerenciar cookies",a.className="c-consent__manage-link",a.setAttribute("data-consent-open","true"),t.appendChild(a),e.appendChild(t)}function z(){document.addEventListener("click",e=>{const t=e.target;t instanceof HTMLElement&&t.closest("[data-consent-open]")&&(e.preventDefault(),T())})}function L(){if(M(),V(),z(),!u||!_||!x)return;const e=C("get");e==="granted"?y("granted"):e==="denied"?y("denied"):T(),_.addEventListener("click",H),x.addEventListener("click",U)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L();document.addEventListener("click",e=>{const t=e.target.closest(".c-faq-inline__summary");if(!t)return;const a=t.parentElement,o=a.closest(".c-faq-inline__list");o&&o.querySelectorAll("details[open]").forEach(r=>{r!==a&&r.removeAttribute("open")})});const K={anexos:[{id:"anexo-i",titulo:"Anexo I — Comércio",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:7.3,pd:5940},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:9.5,pd:13860},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:10.7,pd:22500},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:14.3,pd:87300},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:19,pd:378e3}]},{id:"anexo-ii",titulo:"Anexo II — Indústria",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:7.8,pd:5940},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:10,pd:13860},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:11.2,pd:22500},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:14.7,pd:85500},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:30,pd:72e4}]},{id:"anexo-iii",titulo:"Anexo III — Serviços",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:6,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:11.2,pd:9360},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:13.5,pd:17640},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:16,pd:35640},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:21,pd:125640},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:33,pd:648e3}]},{id:"anexo-iv",titulo:"Anexo IV — Serviços com CPP fora do DAS",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:4.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:9,pd:8100},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:10.2,pd:12420},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:14,pd:39780},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:22,pd:183780},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:33,pd:828e3}]},{id:"anexo-v",titulo:"Anexo V — Serviços com Fator R",faixas:[{faixa:1,rbt12:"Até R$ 180.000,00",aliquota:15.5,pd:0},{faixa:2,rbt12:"De R$ 180.000,01 a R$ 360.000,00",aliquota:18,pd:4500},{faixa:3,rbt12:"De R$ 360.000,01 a R$ 720.000,00",aliquota:19.5,pd:9900},{faixa:4,rbt12:"De R$ 720.000,01 a R$ 1.800.000,00",aliquota:20.5,pd:17100},{faixa:5,rbt12:"De R$ 1.800.000,01 a R$ 3.600.000,00",aliquota:23,pd:62100},{faixa:6,rbt12:"De R$ 3.600.000,01 a R$ 4.800.000,00",aliquota:30.5,pd:54e4}]}]},G="[data-simples-tabs]",J=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),Y=e=>`${Number(e).toFixed(2).replace(".",",")}`;function W(e){const t=document.createElement("table");t.classList.add("p-simples__table");const a=document.createElement("caption");a.textContent=e.titulo,t.appendChild(a);const o=document.createElement("thead"),r=document.createElement("tr");["Faixa","Receita Bruta 12 meses (RBT12)","Alíquota nominal (%)","Parcela a deduzir (PD)"].forEach(s=>{const n=document.createElement("th");n.scope="col",n.textContent=s,r.appendChild(n)}),o.appendChild(r),t.appendChild(o);const i=document.createElement("tbody");return e.faixas.forEach(s=>{const n=document.createElement("tr"),c=document.createElement("th");c.scope="row",c.textContent=`${s.faixa}ª Faixa`,n.appendChild(c);const d=document.createElement("td");d.textContent=s.rbt12,n.appendChild(d);const l=document.createElement("td");l.textContent=`${Y(s.aliquota)}%`,n.appendChild(l);const f=document.createElement("td");f.textContent=J.format(s.pd),n.appendChild(f),i.appendChild(n)}),t.appendChild(i),t}function Q(e,t){t?.anexos&&e.querySelectorAll("[data-anexo]").forEach(a=>{const o=a.getAttribute("data-anexo"),r=t.anexos.find(i=>i.id===o);if(!r){console.warn(`Anexo não encontrado: ${o}`);return}a.innerHTML="",a.appendChild(W(r))})}function X(e){const t=Array.from(e.querySelectorAll('[role="tab"]'));if(!t.length||!e.querySelector('[role="tabpanel"]'))return;const a=(o,{focusTab:r=!0}={})=>{t.forEach(i=>{const s=i===o;i.classList.toggle("is-active",s),i.setAttribute("aria-selected",String(s)),i.tabIndex=s?0:-1;const n=i.getAttribute("aria-controls"),c=n&&e.querySelector(`#${n}`);c&&(c.toggleAttribute("hidden",!s),c.classList.toggle("is-active",s),s?c.setAttribute("tabindex","0"):c.removeAttribute("tabindex"))}),r&&o.focus()};a(t.find(o=>o.getAttribute("aria-selected")==="true")??t[0],{focusTab:!1}),t.forEach(o=>o.addEventListener("click",()=>a(o))),e.addEventListener("keydown",o=>{const r=document.activeElement;if(!r||r.getAttribute("role")!=="tab")return;const i=t.indexOf(r);let s=i;switch(o.key){case"ArrowRight":case"ArrowDown":o.preventDefault(),s=(i+1)%t.length;break;case"ArrowLeft":case"ArrowUp":o.preventDefault(),s=(i-1+t.length)%t.length;break;case"Home":o.preventDefault(),s=0;break;case"End":o.preventDefault(),s=t.length-1;break;default:return}a(t[s])})}async function S(e,t=!1){try{const a=await fetch(e);if(!a.ok)return t||console.info(`JSON externo não encontrado (${a.status}), usando dados inline`),null;const o=a.headers.get("content-type");if(o&&!o.includes("application/json"))return null;const r=await a.json();return console.log("✓ JSON carregado do servidor"),r}catch{return null}}async function Z(e){const t=e.getAttribute("data-simples-url");if(t){const o=await S(t,!0);if(o)return o}const a=await S("/assets/data/simples-tabelas.json",!0);return a||(console.log("✓ Usando dados inline (fallback)"),K)}async function $(){const e=document.querySelector(G);if(!e){console.log("Elemento com data-simples-tabs não encontrado");return}console.log("Inicializando tabs do Simples Nacional..."),X(e);const t=await Z(e);if(!t||!t.anexos){console.error("Estrutura de dados inválida"),e.querySelectorAll("[data-anexo]").forEach(a=>{a.innerHTML=`
                <div style="padding: 2rem; text-align: center; color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; border-radius: 4px;">
                    <p>⚠️ Erro ao processar dados das tabelas</p>
                </div>
            `});return}console.log(`✓ Sistema inicializado com ${t.anexos.length} anexos`),Q(e,t)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$,{once:!0}):$();function ee({offsetSelector:e=".c-header",offset:t=0}={}){const a=matchMedia("(prefers-reduced-motion: reduce)"),o=()=>a.matches?"auto":"smooth",r=()=>{if(e){const n=document.querySelector(e);if(n)return n.getBoundingClientRect().height}return t},i=n=>{const c=n.hasAttribute("tabindex"),d=n.matches("a,button,input,select,textarea,[tabindex]");!d&&!c&&n.setAttribute("tabindex","-1"),n.focus({preventScroll:!0}),!d&&!c&&n.removeAttribute("tabindex")},s=n=>{const c=decodeURIComponent(n.replace(/^#/,""));if(!c)return;const d=document.getElementById(c);if(!d)return;const l=d.getBoundingClientRect().top+pageYOffset-r();scrollTo({top:l,behavior:o()}),requestAnimationFrame(()=>i(d))};if(document.addEventListener("click",n=>{const c=n.target.closest('a[href^="#"]:not([data-skip-smooth])');if(!c)return;const d=c.getAttribute("href");if(!d||d==="#"||d==="#0")return;const l=decodeURIComponent(d.slice(1));document.getElementById(l)&&(n.preventDefault(),history.pushState(null,"",d),s(d))}),location.hash){const n=()=>s(location.hash);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()}}window.__smoothScrollBooted||(window.__smoothScrollBooted=!0,ee({offsetSelector:".c-header"}));const te=e=>document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e(),v=e=>"requestIdleCallback"in window?requestIdleCallback(e,{timeout:1500}):setTimeout(e,0);function E(e,t){if(typeof e?.[t]=="function")return e[t]();if(typeof e?.default=="function")return e.default();for(const a of["bootCalculators","initCltPjCalculator","initCustoCnpjCalculator"])if(typeof e?.[a]=="function")return e[a]()}te(()=>{document.querySelector("[data-help-open]")&&v(()=>g(()=>import("./help-dialog-COH4yFc1.js"),[]).then(o=>o.initHelpDialogs?.()).catch(o=>console.error("Falha ao carregar help-dialog.js",o)));const e=document.querySelector('[data-calc="clt-pj"]'),t=document.querySelector('[data-calc="custo-cnpj"],[data-calc="custo-pj"],[data-calc="custo-abertura"],[data-calc="custo-abertura-pj"]'),a=document.querySelector('[data-calc="fator-r"]');e&&v(()=>g(()=>import("./clt-vs-pj-ibVnhS0T.js"),[]).then(o=>E(o,"initCltPjCalculator")).catch(o=>console.error("Falha ao carregar clt-vs-pj.js",o))),t&&v(()=>g(()=>import("./custos-abertura-pj-Cyveq2i5.js"),[]).then(o=>E(o,"initCustoCnpjCalculator")).catch(o=>console.error("Falha ao carregar custos-abertura-pj.js",o))),a&&v(()=>g(()=>import("./calc-fator-r-BVWmMzBC.js"),[]).then(o=>E(o,"initFatorRCalculator")).catch(o=>console.error("Falha ao carregar calc-fator-r.js",o)))});
