import"./app-oFoBY6hv.js";async function j(){const e=document.querySelector('[data-calc="clt-pj"]');if(!e)return;const d="/corvelloni-contabilidade/";let p,f;try{const[t,o]=await Promise.all([fetch(`${d}data/simples-faixas.json`),fetch(`${d}data/br-tributos.json`)]);p=await t.json(),f=await o.json()}catch(t){console.error("Falha ao carregar dados das faixas/tributos",t);return}const m=e.querySelector("[data-result-clt]"),b=e.querySelector("[data-result-pj]");if(!m||!b)return;const y=e.querySelectorAll("input, select"),x=t=>Number(t||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),L=t=>{const s=t/12/3,r=t+s;let n=0,c=0;for(const a of f.inss){const u=Math.min(r,a.ceiling)-c;if(u>0)n+=u*a.rate,c=a.ceiling;else break}const i=r-n;let l=0;for(const a of f.irrf.tabela)i>a.min&&(l=i*a.rate-a.deduction);return r-n-l},q=(t,o,s,r)=>{if(!t||!o||!s||!r)return 0;const n=p?.[o];if(!n)return 0;const c=n.find(u=>s<=u.max);if(!c)return 0;const i=(s*c.aliq-c.pd)/s,l=t*i,a=r*.11;return t-l-a},C=()=>{const t=parseFloat(e.salario?.value)||0,o=parseFloat(e.faturamento?.value)||0,s=e.anexo?.value,r=parseFloat(e.rbt12?.value)||0,n=o*.28,c=L(t),i=q(o,s,r,n);m.textContent=x(c),b.textContent=x(i)};C(),y.forEach(t=>t.addEventListener("input",C))}j();
